%-------------------------------------------------------------------------------
%                            BAB IV
%               		HASIL DAN PEMBAHASAN
%-------------------------------------------------------------------------------

\chapter{HASIL DAN PEMBAHASAN}
	\section{Analisis Kebutuhan Sistem}
		Bagian ini menjelaskan hal-hal yang terkait tentang pengembangan aplikasi sebelum penulisan code sesumber.

		\subsection{Fitur-Fitur Aplikasi}
			Kemampuan menangani sensor-sensor:
			\vspace{-0.5cm}
			\begin{itemize}
			\begin{singlespace}
				\item Mampu membaca dan menampilkan suhu yang terbaca pada sensor IQRF,
				\item mampu menyala-matikan relay pada peranti yang diinginkan,
				\item mampu menambah dan mengurangi peranti baru baik IQRF atau XBee,
				\item mampu menjalankan profile tertentu dari kombinasi suhu dan relay atau waktu tertentu.
			\end{singlespace}
			\end{itemize}

			Kemampuan menangani pengguna:
			\vspace{-0.5cm}
			\begin{itemize}
			\begin{singlespace}
				\item Mengharuskan pengguna untuk memasukkan nama dan kata sandi sebelum masuk ke aplikasi,
				\item dapat menambah atau mengurangi pengguna yang dapat memasuki sistem.
			\end{singlespace}
			\end{itemize}

		\subsection{\emph{Use Case Diagram}}
			\emph{Use case diagram} dapat dilihat pada Gambar \ref{usecase}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.9\textwidth]{gambar/usecase}
			    \caption{Diagram \emph{use case} dari penelitian.}
			    \label{usecase}
			\end{figure}

		\subsection{Diagram Arsitektur Sistem}
			Diagram arsitektur sistem dapat dilihat pada Gambar \ref{system-architecture}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=\textwidth]{gambar/system-architecture}
			    \caption{Diagram Arsitektur Sistem.}
			    \label{system-architecture}
			\end{figure}

		\subsection{SDLC}
			SDLC yang digunakan dapat dilihat pada Gambar \ref{sdlc}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.6\textwidth]{gambar/sdlc}
			    \caption{Diagram SDLC.}
			    \label{sdlc}
			\end{figure}
	
	\section{Perancangan Aplikasi}
		Bagian ini menjelaskan hal-hal terkait pengembangan aplikasi.

		\subsection{Persiapan Pra Pengembangan Aplikasi}
			\begin{enumerate}
				\item Konfigurasi Router/AP

					Penelitian ini menggunakan AP keluaran TP-LINK seri MR3020. AP jenis ini dipilih karena bentuknya yang kecil sehingga mudah dibawa atau dipindahkan dan kemudahannya untuk dimodifikasi. TP-LINK MR3020 juga terbilang populer di ranah komunitas sistem benam (\emph{embedded device}) sehingga memiliki dukungan yang baik dari pabrikan dan komunitas. 

					Sebelum digunakan, \emph{firmware} bawaan TP-LINK MR3020 harus diganti dengan sistem operasi OpenWRT. Proses penggantian cukup mudah karena hanya memanfaatkan menu \emph{firmware upgrade} dari web admin yang sudah tersedia.	Sistem Operasi OpenWRT yang digunakan adalah Attitude Adjustment versi 12.09 dengan Linux kernel 3.3.8. \emph{Image file} sistem operasi tersebut bisa diunduh secara gratis pada situs \url{www.openwrt.org}.

					Setelah OpenWRT berhasil terinstall, langkah selanjutnya adalah mengimplementasikan \emph{extroot}. \emph{Extroot} dapat memperbesar memori penyimpanan dengan bantuan USB \emph{flash drive}. Langkah yang harus dilakukan pertamakali adalah menginstall perangkat lunak dengan perintah sebagai berikut:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# opkg update
							# opkg install block-extroot block-hotplug block-mount
					    \end{verbatim}  
					\endgroup

					Kemudian dilanjutkan dengan menyalin isi dari memori internal TP-LINK MR3020 ke USB \emph{flash drive} yang di-\emph{mount} pada direktori /mnt/sda1 dengan perintah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# tar -C /overlay -cvf - . | tar -C /mnt/sda1 -xf -
					    \end{verbatim}  
					\endgroup

					Langkah terakhir adalah mengkonfigurasi file /etc/config/fstab dan menyalakan ulang AP. Konfigurasi diganti dengan detil sebagai berikut:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							config mount
						        option target        /mnt
						        option device        /dev/sda1
						        option fstype        ext3
						        option options       rw,sync
						        option enabled       1
						        option enabled_fsck  0
						        option is_rootfs     1
					    \end{verbatim}  
					\endgroup

					Setelah proses implementasi extroot selesai, berarti AP sudah memiliki memori penyimpanan yang cukup (atau mungkin lebih) untuk menginstal aplikasi-aplikasi pendukung lainnya. Penelitian ini menggunakan memori USB 4 Gigabyte.

					Agar TP-LINK MR3020 dapat membaca dan mengirimkan data dari dan ke WSN melalui kanal serial, dibutuhkan Python dan pustaka PySerial yang diinstal dengan perintah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# opkg update
							# opkg install python pyserial
					    \end{verbatim}  
					\endgroup

					Sedangkan paket aplikasi `at' digunakan agar AP dapat menjalankan perintah untuk menyala-matikan relay pada waktu tertentu. Namun, sebelum at dapat berjalan, pada router sudah harus tersedia file /var/spool/cron/atjobs/.SEQ dan pemilik dari file tersebut harus diganti menjadi daemon.daemon. Aplikasi `at' diinstall dengan perintah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# opkg update && opkg install at
					    \end{verbatim}  
					\endgroup
					
					Langkah selanjutnya adalah instalasi aplikasi pendukung aplikasi berbasis web yang nantinya akan dikembangkan yaitu Web Server, PHP, dan MySQL. Web server yang digunakan adalah yang sudah terinstal pada OpenWRT versi Attitude Adjustment yaitu uHTTPd. Sedangkan PHP dan MySQL harus diinstal dengan perintah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# opkg update
							# opkg install php5 php5-cgi mysql
					    \end{verbatim}  
					\endgroup

					Setelah PHP berhasil terinstal, buka file /etc/config/uhttpd dan pastikan baris yang memuat baris di bawah ini tidak dalam keadaan terkomentar.
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \centering
					    \begin{verbatim}
							list interpreter ".php=/usr/bin/php-cgi"
					    \end{verbatim}  
					\endgroup					

					Aplikasi yang terakhir yang harus diinstal adalah SSHFS yang berguna dalam uji coba dan perbaikan aplikasi. SSHFS dapat diinstal dengan perintah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							# opkg update
							# opkg install sshfs
					    \end{verbatim}  
					\endgroup

					Zona waktu standar pada OpenWRT adalah UTC yang belokasi pada kota Greenwich di Inggris Raya. Agar zona waktu dapat dikonfigurasi sesuai dengan zona waktu kota Yogyakarta, maka isi dari file /etc/config/system harus disesuaikan. Pada file tersebut, zona waktu UTC diganti menjadi WIT-7 atau \emph{Western Indonesian Time}-7.

				\item Konfigurasi Komputer untuk Pengembangan

					Komputer yang digunakan dalam penelitian ini adalah MacBook Pro dengan sistem operasi Mac OSX Mountain Lion. Sedangkan aplikasi yang harus tersedia adalah Sublime Text 3, Arduino for Mac OSX, CoolTerm, Driver FTDI for Mac OSX, IQRF IDE v 2.08 for TR-53B.

					Sublime Text 3 berperan banyak dalam mengedit kode-kode sesumber PHP, C, dan Python.

					Sedangkan proses pengembangan dan pengunduhan aplikasi untuk Arduino sepenuhnya dilakukan dengan Arduino for Mac OSX karena aplikasi tersebut sudah mencakup editor teks dan alat kompilasi.

					Agar komputer dapat membaca kanal serial sehingga dapat melakukan tugas-tugas seperti konfigurasi XBee Radio dan pengujian aplikasi Python, komputer membutuhkan aplikasi CoolTerm. Sebelum aplikaisi ini terinstal, pastikan driver FTDI untuk Mac OSX sudah terinstal, agar komputer dapat mendeteksi XBee yang terhubung melalui USB.

					Walaupun kode sesumber untuk IQRF ditulis dengan bantuan Sublime Text 3, proses kompilasinya dilakukan dengan aplikasi IQRF IDE v 2.08 for TR-53B. Proses pengunduhan file ke IQRF juga dilakukan dengan aplikasi yang sama.

					Semua proses instalasi aplikasi yang dibutuhkan dilakukan dengan prosedur standar dari Mac OSX. Yaitu memperoleh file binary-nya dan kemudian menyalin file tersebut ke direktori Application atau mengikuti prosedur standar dari masing-masing aplikasi.

					Langkah terakhir yang dilakukan adalah memastikan AP dapat mengakses komputer melalui SSH. Pastikan \emph{remote sharing} dalam keadaan tercentang di \emph{System Preference}, \emph{Sharing}. Atau untuk lebih jelasnya dapat melihat pada Gambar \ref{mac-sharing}.

					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.8\textwidth]{gambar/mac-sharing}
					    \caption{Konfigurasi SSH pada Mac OSX.}
					    \label{mac-sharing}
					\end{figure}

				\item Peranti XBee

					Setiap peranti XBee yang akan digunakan harus terkonfigurasi terlebih dahulu. Parameter-parameter yang harus terkonfigurasi adalah ATID (alamat dari jaringan/\emph{network ID}), ATMY (alamat peranti itu sendiri), ATDH (\emph{destination address high}), dan ATDL (\emph{destination address low}).

					Proses konfigurasi dilakukan dengan menyambungkan XBee Radio dengan \emph{XBee Explorer USB Board} ke komputer dan menjalankan aplikasi untuk membaca kanal serial, misalnya CoolTerm pada Mac OSX. Setelah CoolTerm dibuka, buka koneksi kanal serial ke XBee dan jalankan perintah dengan format:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							+++		#masuk ke AT Mode
							ATID <id jaringan>
							ATMY <alamat dari zigbee>
							ATDH <destination high>
							ATDL <destination low>
							ATWR 	#tulis ke non volatile memory
					    \end{verbatim}  
					\endgroup

					Contoh perintahnya adalah:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							+++		#masuk ke AT Mode
							ATID 1234
							ATMY 5
							ATDH 0
							ATDL 1
							ATWR 	#tulis ke non volatile memory
					    \end{verbatim}  
					\endgroup
			\end{enumerate}

		\subsection{Pengembangan Aplikasi WSN}
			\begin{enumerate}
				\item IQRF

					Peranti IQRF dalam penelitian ini ada dua jenis, begitu pula aplikasi/peranti lunak yang tertanam di dalamnya. Aplikasi tersebut adalah \emph{Sink} dan \emph{Node}. Aplikasi \emph{Sink} akan ditanamkan pada koordinator dari IQRF yang terhubung langsung dengan AP melalui kabel USB dan jumlahnya hanya satu. Sedangkan aplikasi \emph{Node} akan ditanamkan pada sensor-sensor IQRF yang akan saling membentuk jaringan jala (\emph{mesh network}) dan jumlahnya lebih dari satu.

					Aplikasi \emph{Sink} lebih ditekankan pada pembentukan ikatan (\emph{bond}) antara koordinator dan sensor-sensor, pengendalian sensor-sensor, serta pengakuisisian data dari masing-masing sensor.

					Sedangkan aplikasi \emph{Node} lebih bersifat pasif karena hanya akan merespon perintah-perintah yang akan dikirimkan oleh koordinator, seperti pembentukan ikatan dan pembacaan temperatur.

					Data yang akan diakuisisi dari masing-masing sensor adalah temperatur yang terbaca di masing-masing sensor.

					Aplikasi yang digunakan adalah hasil \emph{fork} dari aplikasi iHome yang dikembangkan oleh Sigit B. Wibowo dkk yang fiturnya tidak terbatas hanya pada pembacaan temperatur sekitar.

				\item XBee

					Sama seperti IQRF, peranti XBee terdiri dari dua jenis peranti, yaitu koordnator dan sensor-sensor. Koordinator bertugas menyala dan matikan relay-relay yang terdapat di masing-masing sensor sesuai permintaan pengguna.

					Koordinator tersusun atas \emph{XBee 802.15.4 Radios (Series 1)} yang tertanam pada \emph{XBee Explorer USB Board} dan terkoneksi langsung dengan AP dengan kabel USB.

					Sedangkan sensornya terdiri dari tiga bagian, yaitu \emph{XBee 802.15.4 Radios (Series 1)}, \emph{2 channel Relay Shield For Arduino (With XBee/BTBee interface)}, dan Arduino Uno. Ketiga bagian tersebut saling terhubung dengan pin-pin yang tersedia.

					XBee pada hakikatnya hanya sebatas peranti komunikasi antara AP dengan relay-relay yang tersedia, sehingga pemrograman teletak pada masing-masing Arduino pada relay. Bahasa yang digunakan adalah bahasa C (Arduino). Aplikasi yang dikembangkan akan menunggu perintah dari AP untuk menyala dan matikan relay.

			\end{enumerate}

		\subsection{Pengembangan Aplikasi Python}
			Aplikasi Python adalah jantung dari penelitian ini karena menghubungkan aplikasi berbasis web dengan peranti-peranti IQRF dan XBee.

			Aplikasi terdiri dari tiga bagian.

			\begin{enumerate}
				\item IQRF

					Aplikasi Python IQRF memiliki kemampuan untuk melakukan \emph{bonding} antara koordinator dan sensor, dan pembacaan temperatur pada sensor dengan ID tertentu.

					Diagram alir dari aplikasi berikut dapat dilihat pada Gambar \ref{python-iqrf}.

					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.6\textwidth]{gambar/python-iqrf}
					    \caption{Diagram alir aplikasi Python untuk IQRF.}
					    \label{python-iqrf}
					\end{figure}

					Aplikasi dijalankan dengan menjalankan format perintah berikut pada \emph{terminal console}:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							$ python iqrf.py <perintah><ID node>
					    \end{verbatim}  
					\endgroup

					Aplikasi ini berjalan dalam bentuk CLI dan membutuhkan satu parameter, yaitu perintah yang langsung disambung dengan ID node tanpa spasi. Perintah yang tersedia yaitu membaca gemperatur pada node ID tertentu (g), \emph{bonding} node ID tertentu (b), \emph{unbonding} node ID tertentu (u).

					Sehingga contoh penggunaan aplikasi pada \emph{terminal console}:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							$ python iqrf.py g3
					    \end{verbatim}  
					\endgroup
					Perintah di atas adalah perintah untuk membaca temperatur pada node ID 3.

				\item XBee

					Aplikasi Python XBee memiliki kemampuan untuk menyala dan matikan relay pada peranti tertentu dan membaca status relay pada peranti tertentu, apakah relay tersebut sedang menyala atau mati.

					Diagram alir dari aplikasi berikut dapat dilihat pada Gambar \ref{python-xbee}.

					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.6\textwidth]{gambar/python-xbee}
					    \caption{Diagram alir aplikasi Python untuk menangani peranti XBee.}
					    \label{python-xbee}
					\end{figure}

					Aplikasi dijalankan dengan menjalankan format perintah berikut pada \emph{terminal console}:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							$ python xbee.py <perintah> <ATMY peranti> <ID relay>
					    \end{verbatim}  
					\endgroup

					Aplikasi ini berjalan dalam bentuk CLI dan membutuhkan tiga parameter, yaitu perintah, alamat peranti (ATMY), dan ID relay (terdapat dua relay di tiap peranti). Perintah yang tersedia yaitu menyalakan relay, `on', mematikan relay, `off', dan membaca status relay, `status'.

					Sehingga contoh penggunaan aplikasi pada \emph{terminal console}:
					\begingroup
					    \fontsize{10pt}{12pt}\selectfont
					    \begin{verbatim}
							$ python iqrf.py status 2 1
					    \end{verbatim}  
					\endgroup
					Perintah di atas akan membaca status (on/off) dari relay 1 pada peranti dengan alamat (ATMY) 2 dan menampilkannya pada layar dalam karakter `H' (menyala) atau `L' (mati).

				\item Profile

					Aplikasi ini memanfaatkan aplikasi \emph{at} pada Linux yang dapat menjalankan perintah tertentu di \emph{terminal console} pada waktu tertentu. Dengan aplikasi ini, pengguna dapat menyala-matikan relay pada waktu tertentu. Jika hal ini dikombinasikan dengan bacaan temperatur dari sensor IQRF, maka pengguna dapat menyala-matikan relay tertentu pada saat temperatur pada sensor IQRF node tertentu mencapai suhu tertentu, dan juga bisa hanya terjadi saat waktu tertentu.

					Diagram alir dari aplikasi berikut dapat dilihat pada Gambar \ref{python-profile}.

					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.8\textwidth]{gambar/python-profile}
					    \caption{Diagram alir aplikasi Python untuk menyala-matikan lampu pada kondisi tertentu.}
					    \label{python-profile}
					\end{figure}

			\end{enumerate}

		\subsection{Pengembangan Aplikasi Berbasis Web}
			Aplikasi web untuk mengendalikan sensor-sensor IQRF dan XBee dibangun dengan PHP dan basis data MySQL. Aplikasi ini dibangun tanpa menggunakan \emph{framework} karena aplikasi ini tergolong tidak terlalu rumit, aplikasi ini hanya memliki lima halaman utama seperti terlihat pada sitemap Gambar \ref{sitemap}. Penggunaan \emph{framework} juga akan memakan sumber daya komputasi sedikit lebih banyak, padahal aplikasi ini akan diimplementasikan pada sebuah AP yang memiliki tingkat komputasi yang rendah.

			Antarmuka yang dikembangkan adalah hasil \emph{fork} dari \emph{template} halaman administrator buatan Vince G. Antarmuka ditulis menggunakan HTML5 dan CSS3, dengan tambahan pemrograman JavaScript pada sisi klien agar menambah interaktivitas. Pustaka Bootstrap digunakan untuk membuat halaman web menjadi responsif, sehingga dapat menyesuaikan diri secara otomatis sesuai dengan ukuran layar. Pustaka jQuery digunakan untuk membantu pemrograman di sisi klien.

			Kode sesumber untuk aplikasi berbasis web ditulis dengan bantuan Sublime Text 3.
			
			Peta situs dari aplikasi berbasis web yang dikembangkan dapat dilihat pada Gambar \ref{sitemap}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.8\textwidth]{gambar/sitemap}
			    \caption{Peta situs aplikasi web.}
			    \label{sitemap}
			\end{figure}

			Basis data yang dikembangkan tergolong sederhana karena hanya dimaksudkan untuk menyimpan data-data yang sifatnya kecil, seprti tampak pada Gambar \ref{erd}.

			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.6\textwidth]{gambar/erd}
			    \caption{\emph{Entity Relationship Diagram} dari basis data untuk aplikasi web.}
			    \label{erd}
			\end{figure}

			Sedangkan diagram alir untuk menambah peranti IQRF dan XBee dijelaskan pada Gambar \ref{add-iqrf} dan Gambar \ref{add-xbee}.

			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.6\textwidth]{gambar/add-iqrf}
			    \caption{Diagram Alir Penambahan Peranti IQRF ke Aplikasi.}
			    \label{add-iqrf}
			\end{figure}

			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.6\textwidth]{gambar/add-xbee}
			    \caption{Diagram Alir Penambahan Peranti XBee ke Aplikasi.}
			    \label{add-xbee}
			\end{figure}

		\subsection{Evaluasi dan Perbaikan}
			Evaluasi dilakukan dengan mengujikan semua fitur yang dimiliki oleh aplikasi. Jika terdapat kesalahan, maka dilacak dimanakah letak kesalahan berada, apakah pada aplikasi berbasis web, aplikasi Python, atau aplikasi C pada sensor.

			Masalah yang timbul adalah saat akan merevisi aplikasi yang sudah terlanjur tertanam pada AP karena AP, dengan sistem operasi OpenWRT, tidak memiliki aplikasi teks editor yang mumpuni untuk melakukan pengeditan kode sesumber dengan nyaman. Oleh karena itu, seluruh kode sesumber tetap berada pada komputer agar tetap bisa dibuka dengan Sublime Text 3, namun AP me-\emph{mount}-nya dengan bantuan SSHFS sehingga seolah-olah kode sesumber tersebut berada dalam dua tempat dan saling tersinkronisasi.

			Untuk melakukan \emph{mount} pada AP, menggunakan perintah:
			\begingroup
			    \fontsize{10pt}{12pt}\selectfont
			    \begin{verbatim}
					# sshfs /direktori/pada/ap <user>@<alamat IP>:/direktori/pada/komputer
			    \end{verbatim}  
			\endgroup
			

		\subsection{\emph{Screenshot} Aplikasi}
			Bagian ini menampilkan beberapa \emph{screenshot} dari aplikasi web yang dikembangkan.

					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/dashboard}
					    \caption{Halaman \emph{dashboard} saat belum ada peranti terpasang.}
					    \label{dashboard}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.5\textwidth]{gambar/dashboard-small}
					    \caption{Halaman \emph{dashboard} saat belum ada peranti terpasang (dibuka di layar kecil).}
					    \label{dashboard-small}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/dashboard-full}
					    \caption{Halaman \emph{dashboard} saat peranti sudah terpasang.}
					    \label{dashboard-full}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.6\textwidth]{gambar/dashboard-full-small}
					    \caption{Halaman \emph{dashboard} saat peranti sudah terpasang (dibuka di layar kecil).}
					    \label{dashboard-full-small}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/iqrf-list}
					    \caption{Halaman daftar peranti IQRF yang terpasang.}
					    \label{iqrf-list}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/xbee-list}
					    \caption{Halaman daftar peranti XBee yang terpasang.}
					    \label{xbee-list}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/iqrf-add}
					    \caption{Halaman untuk menambahkan peranti IQRF.}
					    \label{iqrf-add}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/xbee-add}
					    \caption{Halaman untuk menambahkan peranti XBee.}
					    \label{xbee-add}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/profile-add}
					    \caption{Halaman untuk menambahkan profil.}
					    \label{profile-add}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/user-list}
					    \caption{Halaman yang menampilkan daftar pengguna.}
					    \label{user-list}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/user-add}
					    \caption{Halaman untuk menambahkan pengguna baru.}
					    \label{user-add}
					\end{figure}


					\begin{figure}[H]
					  \centering
					    \includegraphics[width=0.9\textwidth]{gambar/login}
					    \caption{Halaman login.}
					    \label{login}
					\end{figure}


		\subsection{Kode Sesumber}
			Kode sesumber dapat diperoleh pada situs GitHub dengan alamat URL \url{https://github.com/gtrdp/wsn-ip-interoperability}.


	\section{Analisis Unjuk Kerja Aplikasi}
		Bagian ini menjelaskan hal-hal terkait instalasi aplikasi ke kondisi sesungguhnya, hasil uji coba, masalah, dan penyelesaian.

		\subsection{Instalasi Peranti}
			Koordinator IQRF yang tersambung langsung pada AP terdiri atas kabel USB to Serial Prolific, kit pengembangan CK-EVAL-04, dan IQRF TR-52B seperti dapat dilihat pada Gambar \ref{iqrf-stripped}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/iqrf-stripped}
			    \caption{Koordinator IQRF saat belum dirakit.}
			    \label{iqrf-stripped}
			\end{figure}

			Semua bagian disambungkan pada tempatnya. Untuk kabel USB to Serial Prolific, posisi kabel \emph{ground} terpasang pada bagian bawah seperti terlihat pada Gambar \ref{iqrf-complete}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.5\textwidth]{gambar/iqrf-complete}
			    \caption{Koordinator IQRF saat telah dirakit.}
			    \label{iqrf-complete}
			\end{figure}

			Koordinator XBee pada AP terdiri atas \emph{XBee 802.15.4 Radios (Series 1)} dan \emph{XBee Explorer USB Board} yang tersambung pada AP dengan kabel mini-USB seperti dapat dilihat pada Gambar \ref{xbee-sink-stripped} dan Gambar \ref{xbee-sink-complete}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.5\textwidth]{gambar/xbee-sink-stripped}
			    \caption{Koordinator XBee saat sebelum dirakit.}
			    \label{xbee-sink-stripped}
			\end{figure}
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/xbee-sink-complete}
			    \caption{Koordinator XBee saat telah dirakit.}
			    \label{xbee-sink-complete}
			\end{figure}

			AP yang digunakan adalah TP-LINK MR3020 dengan USB Hub guna menyambungkan USB \emph{flash drive}, koordinator IQRF, dan koordinator XBee. Urutan peranti yang terpasang ke AP, dari atas ke bawah, adalah USB \emph{flash drive}, koordinator XBee, dan koordinator IQRF. Posisi tersebut tidak boleh terbalik karena tidak sesuai dengan aplikasi yang sudah dirancang. Kondisi AP sebelum dan setelah terpasang dapat dilihat pada Gambar \ref{ap-stripped} dan Gambar \ref{ap-complete}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.5\textwidth]{gambar/ap-stripped}
			    \caption{AP saat sebelum dirakit.}
			    \label{ap-stripped}
			\end{figure}
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/ap-complete}
			    \caption{AP saat telah dirakit.}
			    \label{ap-complete}
			\end{figure}

			Sensor-sensor IQRF terdiri atas TR-52B dan kit pengembangan DK-EVAL-03 seperti dapat dilihat pada Gambar \ref{iqrf-node-stripped} dan Gambar \ref{iqrf-node-complete}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.4\textwidth]{gambar/iqrf-node-stripped}
			    \caption{Sensor IQRF saat sebelum dirakit.}
			    \label{iqrf-node-stripped}
			\end{figure}
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.4\textwidth]{gambar/iqrf-node-complete}
			    \caption{Sensor IQRF saat telah dirakit.}
			    \label{iqrf-node-complete}
			\end{figure}

			Sedangkan XBee relay terdiri atas \emph{XBee 802.15.4 Radios (Series 1)}, \emph{2 channel Relay Shield For Arduino (With XBee/BTBee interface)}, dan Arduino Uno yang tersambung ke sumber listrik dengan kabel USB seperti dapat dilihat pada Gambar \ref{xbee-stripped} dan Gambar \ref{xbee-complete}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/xbee-stripped}
			    \caption{XBee relay saat sebelum dirakit.}
			    \label{xbee-stripped}
			\end{figure}
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/xbee-complete}
			    \caption{XBee relay saat telah dirakit.}
			    \label{xbee-complete}
			\end{figure}

		\subsection{Hasil Uji Coba Aplikasi}
			Uji coba yang dilakukan menggunakan satu set AP lengkap yang sudah dilengkapi dengan koordinator IQRF dan XBee. Sensor yang digunakan adalah dua buah IQRF dan satu buah XBee.

			Uji coba pertama dilakukan dengan penambahan XBee Relay baru via aplikasi web dan menyalakan relay 1 dengan ponsel cerdas seperti dapat dilihat pada Gambar \ref{xbee-action}. Pada Gambar \ref{xbee-action} dapat dilihat bahwa relay 1 dalam keadaan menyala pada layar ponsel cerdas dan XBee Relay.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.7\textwidth]{gambar/xbee-action}
			    \caption{Uji coba aplikasi dengan ponsel cerdas.}
			    \label{xbee-action}
			\end{figure}

			Pengujian IQRF dilakukan dengan penambahan dua sensor via aplikasi web dan kemudian melihat temperatur yang terbaca. Salah satu sensor digenggam dengan tangan untuk memanipulasi temperatur. Hasilnya dapat dilihat pada Gambar \ref{screenshot-iqrf}.
			\begin{figure}[H]
			  \centering
			    \includegraphics[width=0.9\textwidth]{gambar/screenshot-iqrf}
			    \caption{Membaca temperatur yang terbaca pada sensor.}
			    \label{screenshot-iqrf}
			\end{figure}
			


		\subsection{Masalah dan Penyelesaian}
			Masalah yang pertamakali muncul adalah tentang extroot. TP-LINK MR3020 memiliki \emph{bug} yang membuat memori eksternal tidak berfungsi saat \emph{booting} pertamakali. Setelah TP-LINK MR3020 dijalankan ulang, memori eksternal baru terbaca. Penyebab dari masalah ini belum ditemukan, sehingga solusi untuk masalah ini adalah melakukan \emph{rebooting} jika TP-LINK MR3020 tidak membaca memori eksternal. Masalah ini tidak ditemukan pada AP dengan jenis lain.

		%	Komunikasi serial yang kata perkata.
			
			IQRF dinilai kurang stabil, terlebih saat menancapkan kabel USB to Serial Prolific ke USB Hub pada AP saat AP sudah menyala. Jika kurang berhati-hati, AP justru akan menjadi tidak stabil. Gejala yang muncul seperti pustaka PHP yang tidak terbaca, sampai jaringan Wi-Fi yang terputus. Untuk mengantisipasi masalah ini, sebaiknya semua kabel terpasang sebelum AP dinyalakan.
			